{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            isLoggedIn: false,\n            userInfo: new UTSJSONObject({\n                nickname: 'inner2466',\n                userId: '1933438229252542466',\n                isVip: false,\n                coins: 5000,\n                rechargeOrders: 0,\n                questionRecords: 0,\n                creationRecords: 0\n            })\n        };\n    },\n    onLoad() {\n        this.loadUserData();\n    },\n    onShow() {\n        // 每次显示页面时重新加载数据，确保显示最新信息\n        this.loadUserData();\n    },\n    loadUserData() {\n        // 从本地存储加载用户信息\n        const savedUserInfo = uni.getStorageSync('userInfo');\n        if (savedUserInfo) {\n            this.userInfo = Object.assign(Object.assign({}, this.userInfo), savedUserInfo);\n        }\n        // 从本地存储加载头像\n        const savedAvatar = uni.getStorageSync('userAvatar');\n        if (savedAvatar) {\n            this.userInfo.avatar = savedAvatar;\n        }\n        // 检查手机绑定状态\n        const phoneBound = uni.getStorageSync('phoneBound');\n        if (phoneBound) {\n            this.userInfo.phoneBound = true;\n            // 确保用户信息中也包含手机绑定状态\n            if (!this.userInfo.phoneBound) {\n                this.userInfo.phoneBound = true;\n                uni.setStorageSync('userInfo', this.userInfo);\n            }\n        }\n    },\n    methods: {\n        // 微信登录\n        wechatLogin() {\n            uni.showLoading({\n                title: '登录中...'\n            });\n            // 模拟微信登录\n            setTimeout(() => {\n                uni.hideLoading();\n                this.isLoggedIn = true;\n                uni.showToast({\n                    title: '登录成功',\n                    icon: 'success'\n                });\n            }, 2000);\n        },\n        // 退出登录\n        logout() {\n            uni.showModal(new UTSJSONObject({\n                title: '确认退出',\n                content: '确定要退出登录吗？',\n                success: (res) => {\n                    if (res.confirm) {\n                        this.isLoggedIn = false;\n                        uni.showToast({\n                            title: '已退出登录',\n                            icon: 'success'\n                        });\n                    }\n                }\n            }));\n        },\n        // 页面跳转方法\n        goToEditProfile() {\n            uni.navigateTo({\n                url: '/pages/profile/edit-profile/edit-profile'\n            });\n        },\n        goToUpgradeMember() {\n            uni.navigateTo({\n                url: '/pages/profile/upgrade-member/upgrade-member'\n            });\n        },\n        goToRecharge() {\n            uni.navigateTo({\n                url: '/pages/profile/recharge/recharge'\n            });\n        },\n        inviteFriends() {\n            uni.showActionSheet({\n                itemList: ['分享给微信好友', '复制邀请链接'],\n                success: (res) => {\n                    if (res.tapIndex === 0) {\n                        // 分享给微信好友\n                        uni.share(new UTSJSONObject({\n                            provider: 'weixin',\n                            scene: 'WXSceneSession',\n                            type: 0,\n                            href: 'https://www.wsxai.com/invite?code=inner2466',\n                            title: '冠智未来文曲星小程序',\n                            summary: '邀请您使用冠智未来文曲星小程序，成功注册可获得1万硬币奖励！',\n                            imageUrl: '/static/logo.png',\n                            success: () => {\n                                uni.showToast({\n                                    title: '分享成功',\n                                    icon: 'success'\n                                });\n                            },\n                            fail: () => {\n                                uni.showToast({\n                                    title: '分享失败',\n                                    icon: 'none'\n                                });\n                            }\n                        }));\n                    }\n                    else if (res.tapIndex === 1) {\n                        // 复制邀请链接\n                        const inviteLink = 'https://www.wsxai.com/invite?code=inner2466';\n                        uni.setClipboardData({\n                            data: inviteLink,\n                            success: () => {\n                                uni.showToast({\n                                    title: '邀请链接已复制',\n                                    icon: 'success'\n                                });\n                            }\n                        });\n                    }\n                }\n            });\n        },\n        goToShareEarn() {\n            uni.navigateTo({\n                url: '/pages/profile/share-earn/share-earn'\n            });\n        },\n        goToDesktop() {\n            uni.navigateTo({\n                url: '/pages/webview/webview?url=' + encodeURIComponent('https://www.wsxai.com/')\n            });\n        },\n        goToUsageGuide() {\n            uni.navigateTo({\n                url: '/pages/profile/usage-guide/usage-guide'\n            });\n        },\n        contactService() {\n            // 打开企业微信客服\n            uni.openCustomerServiceChat(new UTSJSONObject({\n                extInfo: new UTSJSONObject({\n                    url: 'https://work.weixin.qq.com/kfid/kfc123456'\n                }),\n                corpId: 'ww1234567890abcdef',\n                agentId: '1000001',\n                success: () => {\n                    uni.showToast({\n                        title: '正在打开客服',\n                        icon: 'none'\n                    });\n                },\n                fail: (err = null) => {\n                    uni.__f__('log', 'at pages/profile/profile.uvue:303', '打开客服失败:', err);\n                    // 如果打开失败，提供备选方案\n                    uni.showActionSheet({\n                        itemList: ['复制客服微信号', '拨打客服电话'],\n                        success: (res) => {\n                            if (res.tapIndex === 0) {\n                                // 复制客服微信号\n                                uni.setClipboardData({\n                                    data: 'guanzhi-kefu',\n                                    success: () => {\n                                        uni.showToast({\n                                            title: '客服微信号已复制',\n                                            icon: 'success'\n                                        });\n                                    }\n                                });\n                            }\n                            else if (res.tapIndex === 1) {\n                                // 拨打客服电话\n                                uni.makePhoneCall({\n                                    phoneNumber: '400-123-4567',\n                                    success: () => {\n                                        uni.showToast({\n                                            title: '正在拨打客服电话',\n                                            icon: 'none'\n                                        });\n                                    }\n                                });\n                            }\n                        }\n                    });\n                }\n            }));\n        },\n        goToAccountSecurity() {\n            uni.navigateTo({\n                url: '/pages/profile/account-security/account-security'\n            });\n        },\n        goToAboutUs() {\n            uni.navigateTo({\n                url: '/pages/profile/about-us/about-us'\n            });\n        },\n        goToFeedback() {\n            uni.navigateTo({\n                url: '/pages/profile/feedback/feedback'\n            });\n        }\n    }\n});\n//# sourceMappingURL=/Users/cc/Desktop/%E5%86%A0%E5%B1%82%E4%BC%81%E4%B8%9A/AI%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/HBuilderX/%E5%86%A0%E6%99%BA%E6%9C%AA%E6%9D%A5%E6%96%87%E6%9B%B2%E6%98%9F%E5%B0%8F%E7%A8%8B%E5%BA%8F/pages/profile/profile.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.getStorageSync","uni.setStorageSync","uni.showLoading","uni.hideLoading","uni.showToast","uni.showModal","uni.navigateTo","uni.showActionSheet","uni.share","uni.setClipboardData","uni.openCustomerServiceChat","uni.__f__","uni.makePhoneCall"],"map":"{\"version\":3,\"file\":\"profile.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"profile.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
