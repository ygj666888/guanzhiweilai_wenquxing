{"code":"import { defineComponent } from \"vue\";\nimport auth from '@/utils/auth.js';\nexport default defineComponent({\n    data() {\n        return {\n            isLoggedIn: false,\n            userInfo: new UTSJSONObject({\n                isVip: false,\n                nickname: '',\n                coins: 0\n            }),\n            showDocumentModal: false,\n            showWebModal: false,\n            webUrl: '',\n            knowledgeItems: [] // Áü•ËØÜÂ∫ìÈ°πÁõÆÂàóË°®\n        };\n    },\n    onLoad() {\n        this.checkLoginStatus();\n    },\n    onShow() {\n        this.checkLoginStatus();\n        // Ê£ÄÊü•ÊòØÂê¶ÊúâÁôªÂΩïÁä∂ÊÄÅÊõ¥Êñ∞\n        if (auth.checkAndClearLoginStatusUpdated()) {\n            this.checkLoginStatus();\n        }\n    },\n    methods: {\n        checkLoginStatus() {\n            // ‰ΩøÁî®ÂÖ®Â±ÄÁôªÂΩïÁä∂ÊÄÅÁÆ°ÁêÜÂ∑•ÂÖ∑\n            const result = auth.checkLoginStatus();\n            uni.__f__('log', 'at pages/knowledge/knowledge.uvue:189', 'Áü•ËØÜÂ∫ìÈ°µÈù¢ - Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ:', result);\n            if (result.isLoggedIn && result.userInfo) {\n                this.isLoggedIn = true;\n                // Á°Æ‰øùÁî®Êà∑‰ø°ÊÅØÂåÖÂê´ÂøÖË¶ÅÁöÑÂ≠óÊÆµ\n                this.userInfo = Object.assign({ isVip: result.userInfo.isVip || false, nickname: result.userInfo.nickname || 'Áî®Êà∑', coins: result.userInfo.coins || 0 }, result.userInfo);\n                uni.__f__('log', 'at pages/knowledge/knowledge.uvue:200', 'Áü•ËØÜÂ∫ìÈ°µÈù¢ - Áî®Êà∑Â∑≤ÁôªÂΩï:', this.userInfo);\n            }\n            else {\n                this.isLoggedIn = false;\n                this.userInfo = {\n                    isVip: false,\n                    nickname: '',\n                    coins: 0\n                };\n                uni.__f__('log', 'at pages/knowledge/knowledge.uvue:208', 'Áü•ËØÜÂ∫ìÈ°µÈù¢ - Áî®Êà∑Êú™ÁôªÂΩï');\n            }\n        },\n        goToLogin() {\n            uni.navigateTo({\n                url: '/pages/login/login'\n            });\n        },\n        goToUpgrade() {\n            uni.navigateTo({\n                url: '/pages/profile/upgrade-member/upgrade-member'\n            });\n        },\n        goToDesktop() {\n            uni.navigateTo({\n                url: '/pages/webview/webview?url=' + encodeURIComponent('https://www.wsxai.com/')\n            });\n        },\n        // ÊòæÁ§∫ÊñáÊ°£‰∏ä‰º†Ê®°ÊÄÅÊ°Ü\n        showDocumentUpload() {\n            this.showDocumentModal = true;\n        },\n        // ÈöêËóèÊñáÊ°£‰∏ä‰º†Ê®°ÊÄÅÊ°Ü\n        hideDocumentModal() {\n            this.showDocumentModal = false;\n        },\n        // ÊòæÁ§∫ÁΩëÈ°µÊäìÂèñÊ®°ÊÄÅÊ°Ü\n        showWebCapture() {\n            this.showWebModal = true;\n        },\n        // ÈöêËóèÁΩëÈ°µÊäìÂèñÊ®°ÊÄÅÊ°Ü\n        hideWebModal() {\n            this.showWebModal = false;\n            this.webUrl = '';\n        },\n        // ‰ªéÂæÆ‰ø°ÈÄâÊã©Êñá‰ª∂\n        selectFromWeChat() {\n            uni.showToast({\n                title: '‰ªéÂæÆ‰ø°ÈÄâÊã©ÂäüËÉΩÂºÄÂèë‰∏≠',\n                icon: 'none'\n            });\n            this.hideDocumentModal();\n        },\n        // ‰ªéËÆæÂ§áÈÄâÊã©Êñá‰ª∂\n        selectFromDevice() {\n            uni.chooseFile(new UTSJSONObject({\n                count: 1,\n                type: 'all',\n                success: (res) => {\n                    uni.__f__('log', 'at pages/knowledge/knowledge.uvue:266', 'ÈÄâÊã©ÁöÑÊñá‰ª∂:', res.tempFiles);\n                    // Ê®°ÊãüÊ∑ªÂä†Âà∞Áü•ËØÜÂ∫ì\n                    this.addToKnowledge(new UTSJSONObject({\n                        icon: 'üìÑ',\n                        title: res.tempFiles[0].name,\n                        desc: 'ÊñáÊ°£‰∏ä‰º†',\n                        time: 'ÂàöÂàö'\n                    }));\n                    uni.showToast({\n                        title: 'Êñá‰ª∂Â∑≤Ê∑ªÂä†Âà∞Áü•ËØÜÂ∫ì',\n                        icon: 'success'\n                    });\n                    this.hideDocumentModal();\n                },\n                fail: (err) => {\n                    uni.__f__('log', 'at pages/knowledge/knowledge.uvue:281', 'ÈÄâÊã©Êñá‰ª∂Â§±Ë¥•:', err);\n                    uni.showToast({\n                        title: 'ÈÄâÊã©Êñá‰ª∂Â§±Ë¥•',\n                        icon: 'none'\n                    });\n                }\n            }));\n        },\n        // Á°ÆËÆ§ÁΩëÈ°µÊäìÂèñ\n        confirmWebCapture() {\n            if (!this.webUrl.trim()) {\n                uni.showToast({\n                    title: 'ËØ∑ËæìÂÖ•ÁΩëÂùÄ',\n                    icon: 'none'\n                });\n                return null;\n            }\n            uni.showLoading({\n                title: 'ÊäìÂèñ‰∏≠...'\n            });\n            // Ê®°ÊãüÁΩëÈ°µÊäìÂèñ\n            setTimeout(() => {\n                uni.hideLoading();\n                // Ê®°ÊãüÊ∑ªÂä†Âà∞Áü•ËØÜÂ∫ì\n                this.addToKnowledge(new UTSJSONObject({\n                    icon: 'üåê',\n                    title: 'ÁΩëÈ°µÂÜÖÂÆπ',\n                    desc: 'ÁΩëÈ°µÊäìÂèñ',\n                    time: 'ÂàöÂàö'\n                }));\n                uni.showToast({\n                    title: 'ÁΩëÈ°µÂ∑≤Ê∑ªÂä†Âà∞Áü•ËØÜÂ∫ì',\n                    icon: 'success'\n                });\n                this.hideWebModal();\n            }, 2000);\n        },\n        // Ê∑ªÂä†Âà∞Áü•ËØÜÂ∫ì\n        addToKnowledge(item = null) {\n            this.knowledgeItems.unshift(item);\n        }\n    }\n});\n//# sourceMappingURL=/Users/cc/Desktop/%E5%86%A0%E5%B1%82%E4%BC%81%E4%B8%9A/AI%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/HBuilderX/%E5%86%A0%E6%99%BA%E6%9C%AA%E6%9D%A5%E6%96%87%E6%9B%B2%E6%98%9F%E5%B0%8F%E7%A8%8B%E5%BA%8F/pages/knowledge/knowledge.uvue?vue&type=script&lang.uts.js.map","references":["/Users/cc/Desktop/ÂÜ†Â±Ç‰ºÅ‰∏ö/AIÁ®ãÂ∫èÂºÄÂèë/HBuilderX/ÂÜ†Êô∫Êú™Êù•ÊñáÊõ≤ÊòüÂ∞èÁ®ãÂ∫è/utils/auth.js"],"uniExtApis":["uni.__f__","uni.navigateTo","uni.showToast","uni.chooseFile","uni.showLoading","uni.hideLoading"],"map":"{\"version\":3,\"file\":\"knowledge.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"knowledge.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
