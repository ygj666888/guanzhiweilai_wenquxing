{"version":3,"file":"feedback.js","sources":["pages/profile/feedback/feedback.uvue","pages/profile/feedback/feedback.uvue?type=page"],"sourcesContent":["<template>\n\t<view class=\"feedback-container\">\n\t\t<!-- 反馈类型 -->\n\t\t<view class=\"feedback-type-section\">\n\t\t\t<text class=\"section-title\">反馈类型</text>\n\t\t\t<view class=\"type-list\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"type-item\" \n\t\t\t\t\t:class=\"{ active: selectedType === index }\"\n\t\t\t\t\tv-for=\"(type, index) in feedbackTypes\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@click=\"selectType(index)\"\n\t\t\t\t>\n\t\t\t\t\t<text class=\"type-text\">{{type}}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 反馈内容 -->\n\t\t<view class=\"feedback-content-section\">\n\t\t\t<text class=\"section-title\">反馈内容</text>\n\t\t\t<textarea \n\t\t\t\tclass=\"feedback-textarea\" \n\t\t\t\tv-model=\"feedbackContent\" \n\t\t\t\tplaceholder=\"请详细描述您遇到的问题或建议...\"\n\t\t\t\tmaxlength=\"1000\"\n\t\t\t/>\n\t\t\t<text class=\"char-count\">{{feedbackContent.length}}/1000</text>\n\t\t</view>\n\t\t\n\t\t<!-- 图片上传 -->\n\t\t<view class=\"upload-section\">\n\t\t\t<text class=\"section-title\">上传截图（可选）</text>\n\t\t\t<view class=\"upload-list\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"upload-item\" \n\t\t\t\t\tv-for=\"(image, index) in uploadedImages\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t>\n\t\t\t\t\t<image class=\"uploaded-image\" :src=\"image\" mode=\"aspectFill\" />\n\t\t\t\t\t<view class=\"delete-btn\" @click=\"deleteImage(index)\">×</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"upload-btn\" @click=\"chooseImage\" v-if=\"uploadedImages.length < 3\">\n\t\t\t\t\t<text class=\"upload-icon\">+</text>\n\t\t\t\t\t<text class=\"upload-text\">添加图片</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<text class=\"upload-tip\">最多上传3张图片，每张不超过5MB</text>\n\t\t</view>\n\t\t\n\t\t<!-- 联系方式 -->\n\t\t<view class=\"contact-section\">\n\t\t\t<text class=\"section-title\">联系方式（可选）</text>\n\t\t\t<input \n\t\t\t\tclass=\"contact-input\" \n\t\t\t\tv-model=\"contactInfo\" \n\t\t\t\tplaceholder=\"请留下您的邮箱或手机号，方便我们回复\"\n\t\t\t/>\n\t\t</view>\n\t\t\n\t\t<!-- 提交按钮 -->\n\t\t<view class=\"submit-section\">\n\t\t\t<button class=\"submit-btn\" @click=\"submitFeedback\" :disabled=\"!canSubmit\">\n\t\t\t\t{{submitText}}\n\t\t\t</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tselectedType: 0,\n\t\t\tfeedbackContent: '',\n\t\t\tuploadedImages: [],\n\t\t\tcontactInfo: '',\n\t\t\tfeedbackTypes: ['功能建议', '问题反馈', '体验优化', '其他']\n\t\t}\n\t},\n\tcomputed: {\n\t\tcanSubmit() {\n\t\t\treturn this.feedbackContent.trim().length > 0\n\t\t},\n\t\tsubmitText() {\n\t\t\treturn this.canSubmit ? '提交反馈' : '请填写反馈内容'\n\t\t}\n\t},\n\tmethods: {\n\t\tselectType(index) {\n\t\t\tthis.selectedType = index\n\t\t},\n\t\t\n\t\tchooseImage() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 3 - this.uploadedImages.length,\n\t\t\t\tsizeType: ['compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.uploadedImages = [...this.uploadedImages, ...res.tempFilePaths]\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\tdeleteImage(index) {\n\t\t\tthis.uploadedImages.splice(index, 1)\n\t\t},\n\t\t\n\t\tsubmitFeedback() {\n\t\t\tif (!this.canSubmit) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请填写反馈内容',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '提交中...'\n\t\t\t})\n\t\t\t\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '提交成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 清空表单\n\t\t\t\tthis.feedbackContent = ''\n\t\t\t\tthis.uploadedImages = []\n\t\t\t\tthis.contactInfo = ''\n\t\t\t\tthis.selectedType = 0\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.navigateBack()\n\t\t\t\t}, 1500)\n\t\t\t}, 2000)\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.feedback-container {\n\tflex: 1;\n\tbackground-color: #f8f8f8;\n\tpadding: 30rpx;\n}\n\n.feedback-type-section {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\tpadding: 40rpx;\n\tmargin-bottom: 30rpx;\n}\n\n.section-title {\n\tfont-size: 32rpx;\n\tfont-weight: 600;\n\tcolor: #000000;\n\tmargin-bottom: 25rpx;\n\tdisplay: block;\n}\n\n.type-list {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 20rpx;\n}\n\n.type-item {\n\tpadding: 15rpx 30rpx;\n\tborder: 2rpx solid #e0e0e0;\n\tborder-radius: 8rpx;\n\ttransition: all 0.3s;\n}\n\n.type-item.active {\n\tborder-color: #007aff;\n\tbackground-color: #f0f8ff;\n}\n\n.type-text {\n\tfont-size: 26rpx;\n\tcolor: #000000;\n}\n\n.type-item.active .type-text {\n\tcolor: #007aff;\n}\n\n.feedback-content-section {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\tpadding: 40rpx;\n\tmargin-bottom: 30rpx;\n}\n\n.feedback-textarea {\n\twidth: 100%;\n\theight: 300rpx;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 8rpx;\n\tpadding: 20rpx;\n\tfont-size: 28rpx;\n\tbackground-color: #ffffff;\n}\n\n.char-count {\n\tfont-size: 24rpx;\n\tcolor: #999999;\n\ttext-align: right;\n\tmargin-top: 10rpx;\n\tdisplay: block;\n}\n\n.upload-section {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\tpadding: 40rpx;\n\tmargin-bottom: 30rpx;\n}\n\n.upload-list {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 20rpx;\n\tmargin-bottom: 15rpx;\n}\n\n.upload-item {\n\tposition: relative;\n\twidth: 200rpx;\n\theight: 200rpx;\n}\n\n.uploaded-image {\n\twidth: 100%;\n\theight: 100%;\n\tborder-radius: 8rpx;\n}\n\n.delete-btn {\n\tposition: absolute;\n\ttop: -10rpx;\n\tright: -10rpx;\n\twidth: 40rpx;\n\theight: 40rpx;\n\tbackground-color: #ff3b30;\n\tcolor: #ffffff;\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 24rpx;\n\tfont-weight: 600;\n}\n\n.upload-btn {\n\twidth: 200rpx;\n\theight: 200rpx;\n\tborder: 2rpx dashed #e0e0e0;\n\tborder-radius: 8rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 10rpx;\n}\n\n.upload-icon {\n\tfont-size: 48rpx;\n\tcolor: #999999;\n}\n\n.upload-text {\n\tfont-size: 24rpx;\n\tcolor: #999999;\n}\n\n.upload-tip {\n\tfont-size: 24rpx;\n\tcolor: #999999;\n}\n\n.contact-section {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\tpadding: 40rpx;\n\tmargin-bottom: 30rpx;\n}\n\n.contact-input {\n\twidth: 100%;\n\theight: 80rpx;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 8rpx;\n\tpadding: 0 20rpx;\n\tfont-size: 28rpx;\n\tbackground-color: #ffffff;\n}\n\n.submit-section {\n\tpadding: 30rpx 0;\n}\n\n.submit-btn {\n\twidth: 100%;\n\theight: 100rpx;\n\tbackground: linear-gradient(90deg, #007aff 0%, #00c851 100%);\n\tcolor: #ffffff;\n\tborder: none;\n\tborder-radius: 16rpx;\n\tfont-size: 32rpx;\n\tfont-weight: 500;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.submit-btn:disabled {\n\tbackground: #cccccc;\n\tcolor: #999999;\n}\n</style> ","import MiniProgramPage from '/Users/cc/Desktop/冠层企业/AI程序开发/HBuilderX/冠智未来文曲星小程序/pages/profile/feedback/feedback.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AAsEA,MAAA,YAAeA,8BAAA;AAAA,EACd,OAAI;AACH,WAAO;AAAA,MACN,cAAc;AAAA,MACd,iBAAiB;AAAA,MACjB,gBAAgB,CAAE;AAAA,MAClB,aAAa;AAAA,MACb,eAAe,CAAC,QAAQ,QAAQ,QAAQ,IAAI;AAAA;EAE7C;AAAA,EACD,UAAU;AAAA,IACT,YAAS;AACR,aAAO,KAAK,gBAAgB,KAAI,EAAG,SAAS;AAAA,IAC5C;AAAA,IACD,aAAU;AACT,aAAO,KAAK,YAAY,SAAS;AAAA,IAClC;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,WAAW,QAAK,MAAA;AACf,WAAK,eAAe;AAAA,IACpB;AAAA,IAED,cAAW;AACVC,0BAAI,YAAY,IAAA,cAAA;AAAA,QACf,OAAO,IAAI,KAAK,eAAe;AAAA,QAC/B,UAAU,CAAC,YAAY;AAAA,QACvB,YAAY,CAAC,SAAS,QAAQ;AAAA,QAC9B,SAAS,CAAC,QAAG;AACZ,eAAK,iBAAiB,CAAC,GAAG,KAAK,gBAAgB,GAAG,IAAI,aAAa;AAAA,QACpE;AAAA,MACA,CAAA,CAAA;AAAA,IACD;AAAA,IAED,YAAY,QAAK,MAAA;AAChB,WAAK,eAAe,OAAO,OAAO,CAAC;AAAA,IACnC;AAAA,IAED,iBAAc;AACb,UAAI,CAAC,KAAK,WAAW;AACpBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACN,CAAA;AACD,eAAK;AAAA,MACN;AAEAA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,MACP,CAAA;AAED,iBAAW,MAAA;AACVA,sBAAG,MAAC,YAAW;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACN,CAAA;AAGD,aAAK,kBAAkB;AACvB,aAAK,iBAAiB;AACtB,aAAK,cAAc;AACnB,aAAK,eAAe;AAEpB,mBAAW,MAAA;AACVA,wBAAG,MAAC,aAAY;AAAA,QAChB,GAAE,IAAI;AAAA,MACP,GAAE,GAAI;AAAA,IACR;AAAA,EACD;CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3IA,GAAG,WAAW,eAAe;"}