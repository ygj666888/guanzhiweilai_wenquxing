{"version":3,"file":"edit-profile.js","sources":["pages/profile/edit-profile/edit-profile.uvue","pages/profile/edit-profile/edit-profile.uvue?type=page"],"sourcesContent":["<template>\n\t<view class=\"edit-profile-container\">\n\t\t<view class=\"form-section\">\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">Â§¥ÂÉè</text>\n\t\t\t\t<view class=\"avatar-section\" @click=\"chooseAvatar\">\n\t\t\t\t\t<view class=\"avatar\" v-if=\"!userInfo.avatar\">\n\t\t\t\t\t\t<text class=\"avatar-text\">{{userInfo.nickname.charAt(0)}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<image class=\"avatar-image\" v-else :src=\"userInfo.avatar\" mode=\"aspectFill\" />\n\t\t\t\t\t<text class=\"avatar-tip\">ÁÇπÂáªÊõ¥Êç¢Â§¥ÂÉè</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">ÊòµÁß∞</text>\n\t\t\t\t<input class=\"form-input\" v-model=\"userInfo.nickname\" placeholder=\"ËØ∑ËæìÂÖ•ÊàñÈÄâÊã©ÂæÆ‰ø°ÊòµÁß∞\" />\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">Áî®Êà∑ID</text>\n\t\t\t\t<view class=\"userid-section\">\n\t\t\t\t\t<text class=\"userid-text\">{{userInfo.userId}}</text>\n\t\t\t\t\t<view class=\"copy-btn\" @click=\"copyUserId\">\n\t\t\t\t\t\t<text class=\"copy-icon\">üìã</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">ÁªëÂÆöÊâãÊú∫Âè∑</text>\n\t\t\t\t<view class=\"phone-section\" @click=\"goToBindPhone\">\n\t\t\t\t\t<text class=\"phone-status\" :class=\"{ bound: userInfo.phoneBound }\">\n\t\t\t\t\t\t{{userInfo.phoneBound ? 'Â∑≤ÁªëÂÆö' : 'ÁªëÂÆöÊàêÂäüÈÄÅ5000Á°¨Â∏Å'}}\n\t\t\t\t\t</text>\n\t\t\t\t\t<text class=\"phone-arrow\">></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">ÊÄßÂà´</text>\n\t\t\t\t<picker class=\"form-picker\" :value=\"genderIndex\" :range=\"genderOptions\" @change=\"onGenderChange\">\n\t\t\t\t\t<text class=\"picker-text\">{{genderOptions[genderIndex]}}</text>\n\t\t\t\t</picker>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">ÁîüÊó•</text>\n\t\t\t\t<picker class=\"form-picker\" mode=\"date\" :value=\"userInfo.birthday\" @change=\"onBirthdayChange\">\n\t\t\t\t\t<text class=\"picker-text\">{{userInfo.birthday || 'ËØ∑ÈÄâÊã©ÁîüÊó•'}}</text>\n\t\t\t\t</picker>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">‰∏™‰∫∫ÁÆÄ‰ªã</text>\n\t\t\t\t<textarea class=\"form-textarea\" v-model=\"userInfo.bio\" placeholder=\"ËØ∑ËæìÂÖ•‰∏™‰∫∫ÁÆÄ‰ªã\" maxlength=\"200\" />\n\t\t\t\t<text class=\"char-count\">{{userInfo.bio.length}}/200</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"button-section\">\n\t\t\t<button class=\"save-btn\" @click=\"saveProfile\">‰øùÂ≠ò</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuserInfo: {\n\t\t\t\tnickname: 'inner2466',\n\t\t\t\tuserId: '1933438229252542466',\n\t\t\t\tavatar: '',\n\t\t\t\tphoneBound: false,\n\t\t\t\tgender: 'Áî∑',\n\t\t\t\tbirthday: '',\n\t\t\t\tbio: ''\n\t\t\t},\n\t\t\tgenderOptions: ['Áî∑', 'Â•≥', '‰øùÂØÜ'],\n\t\t\tgenderIndex: 0\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.loadUserData()\n\t},\n\t\n\tonShow() {\n\t\t// ÊØèÊ¨°ÊòæÁ§∫È°µÈù¢Êó∂ÈáçÊñ∞Âä†ËΩΩÊï∞ÊçÆÔºåÁ°Æ‰øùÊòæÁ§∫ÊúÄÊñ∞‰ø°ÊÅØ\n\t\tthis.loadUserData()\n\t},\n\t\n\tloadUserData() {\n\t\t// ‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩÁî®Êà∑‰ø°ÊÅØ\n\t\tconst savedUserInfo = uni.getStorageSync('userInfo')\n\t\tif (savedUserInfo) {\n\t\t\tthis.userInfo = { ...this.userInfo, ...savedUserInfo }\n\t\t}\n\t\t\n\t\t// ‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩÂ§¥ÂÉè\n\t\tconst savedAvatar = uni.getStorageSync('userAvatar')\n\t\tif (savedAvatar) {\n\t\t\tthis.userInfo.avatar = savedAvatar\n\t\t}\n\t\t\n\t\t// Ê£ÄÊü•ÊâãÊú∫ÁªëÂÆöÁä∂ÊÄÅ\n\t\tconst phoneBound = uni.getStorageSync('phoneBound')\n\t\tif (phoneBound) {\n\t\t\tthis.userInfo.phoneBound = true\n\t\t\t// Á°Æ‰øùÁî®Êà∑‰ø°ÊÅØ‰∏≠‰πüÂåÖÂê´ÊâãÊú∫ÁªëÂÆöÁä∂ÊÄÅ\n\t\t\tif (!this.userInfo.phoneBound) {\n\t\t\t\tthis.userInfo.phoneBound = true\n\t\t\t\tuni.setStorageSync('userInfo', this.userInfo)\n\t\t\t}\n\t\t}\n\t\t\n\t\t// ËÆæÁΩÆÊÄßÂà´Á¥¢Âºï\n\t\tthis.genderIndex = this.genderOptions.indexOf(this.userInfo.gender)\n\t\tif (this.genderIndex === -1) this.genderIndex = 0\n\t},\n\tmethods: {\n\t\tchooseAvatar() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.userInfo.avatar = res.tempFilePaths[0]\n\t\t\t\t\t// ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®\n\t\t\t\t\tuni.setStorageSync('userAvatar', res.tempFilePaths[0])\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Â§¥ÂÉèÂ∑≤ÈÄâÊã©',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\tonGenderChange(e) {\n\t\t\tthis.genderIndex = e.detail.value\n\t\t\tthis.userInfo.gender = this.genderOptions[this.genderIndex]\n\t\t},\n\t\t\n\t\tonBirthdayChange(e) {\n\t\t\tthis.userInfo.birthday = e.detail.value\n\t\t},\n\t\t\n\t\tcopyUserId() {\n\t\t\tuni.setClipboardData({\n\t\t\t\tdata: this.userInfo.userId,\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Áî®Êà∑IDÂ∑≤Â§çÂà∂',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoToBindPhone() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/profile/bind-phone/bind-phone'\n\t\t\t})\n\t\t},\n\t\t\n\t\tsaveProfile() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '‰øùÂ≠ò‰∏≠...'\n\t\t\t})\n\t\t\t\n\t\t\t// ‰øùÂ≠òÁî®Êà∑‰ø°ÊÅØÂà∞Êú¨Âú∞Â≠òÂÇ®\n\t\t\tuni.setStorageSync('userInfo', this.userInfo)\n\t\t\t\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '‰øùÂ≠òÊàêÂäü',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.navigateBack()\n\t\t\t\t}, 1500)\n\t\t\t}, 1000)\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.edit-profile-container {\n\tflex: 1;\n\tbackground-color: #f8f8f8;\n\tpadding: 30rpx;\n}\n\n.form-section {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\tpadding: 30rpx;\n\tmargin-bottom: 40rpx;\n}\n\n.form-item {\n\tmargin-bottom: 40rpx;\n}\n\n.form-item:last-child {\n\tmargin-bottom: 0;\n}\n\n.form-label {\n\tfont-size: 28rpx;\n\tcolor: #000000;\n\tmargin-bottom: 20rpx;\n\tdisplay: block;\n}\n\n.form-input {\n\twidth: 100%;\n\theight: 80rpx;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 8rpx;\n\tpadding: 0 20rpx;\n\tfont-size: 28rpx;\n\tbackground-color: #ffffff;\n}\n\n.avatar-section {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 30rpx;\n}\n\n.avatar {\n\twidth: 120rpx;\n\theight: 120rpx;\n\tbackground-color: #007aff;\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.avatar-text {\n\tfont-size: 48rpx;\n\tfont-weight: 600;\n\tcolor: #ffffff;\n}\n\n.avatar-tip {\n\tfont-size: 26rpx;\n\tcolor: #666666;\n}\n\n.avatar-image {\n\twidth: 120rpx;\n\theight: 120rpx;\n\tborder-radius: 50%;\n}\n\n.userid-section {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 20rpx;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 8rpx;\n\tbackground-color: #f8f8f8;\n}\n\n.userid-text {\n\tfont-size: 28rpx;\n\tcolor: #666666;\n}\n\n.copy-btn {\n\twidth: 60rpx;\n\theight: 60rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.copy-icon {\n\tfont-size: 32rpx;\n}\n\n.phone-section {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 20rpx;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 8rpx;\n\tbackground-color: #ffffff;\n}\n\n.phone-status {\n\tfont-size: 28rpx;\n\tcolor: #ff3b30;\n}\n\n.phone-status.bound {\n\tcolor: #00c851;\n}\n\n.phone-arrow {\n\tfont-size: 28rpx;\n\tcolor: #999999;\n}\n\n.form-picker {\n\twidth: 100%;\n\theight: 80rpx;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 8rpx;\n\tpadding: 0 20rpx;\n\tbackground-color: #ffffff;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.picker-text {\n\tfont-size: 28rpx;\n\tcolor: #000000;\n}\n\n.form-textarea {\n\twidth: 100%;\n\theight: 200rpx;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 8rpx;\n\tpadding: 20rpx;\n\tfont-size: 28rpx;\n\tbackground-color: #ffffff;\n}\n\n.char-count {\n\tfont-size: 24rpx;\n\tcolor: #999999;\n\ttext-align: right;\n\tmargin-top: 10rpx;\n\tdisplay: block;\n}\n\n.button-section {\n\tpadding: 30rpx 0;\n}\n\n.save-btn {\n\twidth: 100%;\n\theight: 100rpx;\n\tbackground: linear-gradient(90deg, #007aff 0%, #00c851 100%);\n\tcolor: #ffffff;\n\tborder: none;\n\tborder-radius: 16rpx;\n\tfont-size: 32rpx;\n\tfont-weight: 500;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n</style> ","import MiniProgramPage from '/Users/cc/Desktop/ÂÜ†Â±Ç‰ºÅ‰∏ö/AIÁ®ãÂ∫èÂºÄÂèë/HBuilderX/ÂÜ†Êô∫Êú™Êù•ÊñáÊõ≤ÊòüÂ∞èÁ®ãÂ∫è/pages/profile/edit-profile/edit-profile.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":"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"}