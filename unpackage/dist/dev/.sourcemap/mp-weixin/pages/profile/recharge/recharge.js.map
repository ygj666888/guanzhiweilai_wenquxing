{"version":3,"file":"recharge.js","sources":["pages/profile/recharge/recharge.uvue","pages/profile/recharge/recharge.uvue?type=page"],"sourcesContent":["<template>\n\t<view class=\"recharge-container\">\n\t\t<!-- 当前余额 -->\n\t\t<view class=\"balance-section\">\n\t\t\t<text class=\"balance-title\">当前余额</text>\n\t\t\t<view class=\"balance-amount\">\n\t\t\t\t<text class=\"amount-number\">{{currentBalance}}</text>\n\t\t\t\t<text class=\"amount-unit\">硬币</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 充值套餐 -->\n\t\t<view class=\"packages-section\">\n\t\t\t<text class=\"section-title\">选择充值套餐</text>\n\t\t\t<view class=\"packages-grid\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"package-item\" \n\t\t\t\t\t:class=\"{ active: selectedPackage === index }\"\n\t\t\t\t\tv-for=\"(pkg, index) in packages\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@click=\"selectPackage(index)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"package-amount\">\n\t\t\t\t\t\t<text class=\"amount\">{{pkg.amount}}</text>\n\t\t\t\t\t\t<text class=\"unit\">硬币</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"package-price\">\n\t\t\t\t\t\t<text class=\"price-symbol\">¥</text>\n\t\t\t\t\t\t<text class=\"price-number\">{{pkg.price}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- 只保留第2个套餐有促销标签 -->\n\t\t\t\t\t<view class=\"package-tag\" v-if=\"index === 1\">推荐</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 自定义充值 -->\n\t\t<view class=\"custom-section\">\n\t\t\t<text class=\"section-title\">自定义充值</text>\n\t\t\t<view class=\"custom-input\">\n\t\t\t\t<input \n\t\t\t\t\tclass=\"amount-input\" \n\t\t\t\t\tv-model=\"customAmount\" \n\t\t\t\t\ttype=\"number\" \n\t\t\t\t\tplaceholder=\"请输入充值金额（元）\"\n\t\t\t\t/>\n\t\t\t\t<text class=\"input-tip\">1元 = 100硬币</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 支付方式 -->\n\t\t<view class=\"payment-section\">\n\t\t\t<text class=\"section-title\">支付方式</text>\n\t\t\t<view class=\"payment-list\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"payment-item\" \n\t\t\t\t\t:class=\"{ active: selectedPayment === index }\"\n\t\t\t\t\tv-for=\"(payment, index) in paymentMethods\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@click=\"selectPayment(index)\"\n\t\t\t\t>\n\t\t\t\t\t<text class=\"payment-name\">{{payment.name}}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 充值说明 -->\n\t\t<view class=\"notice-section\">\n\t\t\t<text class=\"notice-title\">充值说明</text>\n\t\t\t<view class=\"notice-list\">\n\t\t\t\t<text class=\"notice-item\">1元人民币 = 100创作硬币</text>\n\t\t\t\t<text class=\"notice-item\">充值金额最低1元，最高10000元</text>\n\t\t\t\t<text class=\"notice-item\">充值成功后硬币立即到账</text>\n\t\t\t\t<text class=\"notice-item\">硬币可用于AI创作、提问等功能</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 底部支付按钮 -->\n\t\t<view class=\"bottom-section\">\n\t\t\t<view class=\"payment-summary\">\n\t\t\t\t<text class=\"summary-text\">支付金额：</text>\n\t\t\t\t<text class=\"summary-price\">¥{{totalAmount}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"coins-summary\">\n\t\t\t\t<text class=\"summary-text\">获得硬币：</text>\n\t\t\t\t<text class=\"summary-coins\">{{totalCoins}}个</text>\n\t\t\t</view>\n\t\t\t<button class=\"pay-btn\" @click=\"confirmRecharge\">立即充值</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrentBalance: 5000,\n\t\t\tselectedPackage: 1,\n\t\t\tselectedPayment: 0,\n\t\t\tcustomAmount: '',\n\t\t\tpackages: [\n\t\t\t\t{ amount: 1000, price: '10' },\n\t\t\t\t{ amount: 5000, price: '50' },\n\t\t\t\t{ amount: 10000, price: '100' },\n\t\t\t\t{ amount: 20000, price: '200' },\n\t\t\t\t{ amount: 50000, price: '500' },\n\t\t\t\t{ amount: 100000, price: '1000' }\n\t\t\t],\n\t\t\tpaymentMethods: [\n\t\t\t\t{ name: '微信支付' },\n\t\t\t\t{ name: '支付宝' }\n\t\t\t]\n\t\t}\n\t},\n\tcomputed: {\n\t\ttotalAmount() {\n\t\t\tif (this.customAmount && this.customAmount > 0) {\n\t\t\t\treturn parseFloat(this.customAmount).toFixed(2)\n\t\t\t}\n\t\t\treturn this.packages[this.selectedPackage].price\n\t\t},\n\t\ttotalCoins() {\n\t\t\tif (this.customAmount && this.customAmount > 0) {\n\t\t\t\treturn Math.floor(parseFloat(this.customAmount) * 100)\n\t\t\t}\n\t\t\treturn this.packages[this.selectedPackage].amount\n\t\t}\n\t},\n\tmethods: {\n\t\tselectPackage(index) {\n\t\t\tthis.selectedPackage = index\n\t\t\tthis.customAmount = ''\n\t\t},\n\t\tselectPayment(index) {\n\t\t\tthis.selectedPayment = index\n\t\t},\n\t\tconfirmRecharge() {\n\t\t\tconst payment = this.paymentMethods[this.selectedPayment]\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确认充值',\n\t\t\t\tcontent: `确认使用${payment.name}充值 ¥${this.totalAmount}，获得${this.totalCoins}个硬币？`,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tthis.processRecharge()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tprocessRecharge() {\n\t\t\tuni.showLoading({ title: '充值中...' })\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({ title: '充值成功', icon: 'success' })\n\t\t\t\tthis.currentBalance += this.totalCoins\n\t\t\t\tsetTimeout(() => { uni.navigateBack() }, 1500)\n\t\t\t}, 2000)\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.recharge-container {\n\tflex: 1;\n\tbackground: #fff;\n\tpadding: 24rpx;\n}\n.balance-section, .packages-section, .custom-section, .payment-section, .notice-section {\n\tbackground: #fff;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 6rpx;\n\tpadding: 24rpx;\n\tmargin-bottom: 20rpx;\n\tbox-shadow: none;\n}\n.balance-title {\n\tfont-size: 24rpx;\n\tcolor: #888;\n\tmargin-bottom: 10rpx;\n\tdisplay: block;\n}\n.balance-amount {\n\tdisplay: flex;\n\talign-items: baseline;\n\tjustify-content: center;\n\tgap: 6rpx;\n}\n.amount-number {\n\tfont-size: 32rpx;\n\tfont-weight: 500;\n\tcolor: #222;\n}\n.amount-unit {\n\tfont-size: 20rpx;\n\tcolor: #888;\n}\n.section-title {\n\tfont-size: 22rpx;\n\tfont-weight: 500;\n\tcolor: #222;\n\tmargin-bottom: 12rpx;\n\tdisplay: block;\n}\n.packages-grid {\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgap: 12rpx;\n}\n.package-item {\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 6rpx;\n\tpadding: 18rpx;\n\ttext-align: center;\n\tbackground: #fff;\n\ttransition: none;\n\tposition: relative;\n}\n.package-item.active {\n\tborder-color: #222;\n\tbackground: #f5f5f5;\n}\n.package-amount {\n\tmargin-bottom: 8rpx;\n}\n.amount {\n\tfont-size: 22rpx;\n\tfont-weight: 500;\n\tcolor: #222;\n}\n.unit {\n\tfont-size: 16rpx;\n\tcolor: #888;\n}\n.package-price {\n\tdisplay: flex;\n\talign-items: baseline;\n\tjustify-content: center;\n\tgap: 2rpx;\n\tmargin-bottom: 4rpx;\n}\n.price-symbol {\n\tfont-size: 16rpx;\n\tcolor: #222;\n}\n.price-number {\n\tfont-size: 22rpx;\n\tfont-weight: 500;\n\tcolor: #222;\n}\n.package-tag {\n\tposition: absolute;\n\ttop: 8rpx;\n\tright: 8rpx;\n\tbackground: #222;\n\tcolor: #fff;\n\tpadding: 2rpx 10rpx;\n\tborder-radius: 4rpx;\n\tfont-size: 16rpx;\n\tfont-weight: 400;\n}\n.custom-input {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 6rpx;\n}\n.amount-input {\n\twidth: 100%;\n\theight: 48rpx;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 6rpx;\n\tpadding: 0 12rpx;\n\tfont-size: 18rpx;\n\tbackground: #fff;\n}\n.input-tip {\n\tfont-size: 14rpx;\n\tcolor: #bbb;\n}\n.payment-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8rpx;\n}\n.payment-item {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 12rpx;\n\tborder: 1rpx solid #e0e0e0;\n\tborder-radius: 6rpx;\n\tbackground: #fff;\n\ttransition: none;\n\tcursor: pointer;\n}\n.payment-item.active {\n\tborder-color: #222;\n\tbackground: #f5f5f5;\n}\n.payment-name {\n\tfont-size: 18rpx;\n\tcolor: #222;\n\tflex: 1;\n}\n.notice-title {\n\tfont-size: 18rpx;\n\tfont-weight: 500;\n\tcolor: #222;\n\tmargin-bottom: 8rpx;\n\tdisplay: block;\n}\n.notice-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 4rpx;\n}\n.notice-item {\n\tfont-size: 14rpx;\n\tcolor: #888;\n}\n.bottom-section {\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: #fff;\n\tpadding: 16rpx 24rpx;\n\tborder-top: 1rpx solid #e0e0e0;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8rpx;\n\tbox-shadow: none;\n\tz-index: 1000;\n}\n.payment-summary, .coins-summary {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n.summary-text {\n\tfont-size: 16rpx;\n\tcolor: #222;\n}\n.summary-price, .summary-coins {\n\tfont-size: 20rpx;\n\tfont-weight: 500;\n\tcolor: #222;\n}\n.pay-btn {\n\tbackground: #222;\n\tcolor: #fff;\n\tborder: none;\n\tborder-radius: 6rpx;\n\tpadding: 10rpx 0;\n\tfont-size: 18rpx;\n\tfont-weight: 500;\n\tbox-shadow: none;\n\ttransition: none;\n}\n</style> ","import MiniProgramPage from '/Users/cc/Desktop/冠层企业/AI程序开发/HBuilderX/冠智未来文曲星小程序/pages/profile/recharge/recharge.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AAwFA,MAAA,YAAeA,8BAAA;AAAA,EACd,OAAI;AACH,WAAO;AAAA,MACN,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,cAAc;AAAA,MACd,UAAU;AAAA,QACT,IAAA,cAAA,EAAE,QAAQ,KAAM,OAAO,KAAG,CAAG;AAAA,QAC7B,IAAA,cAAA,EAAE,QAAQ,KAAM,OAAO,KAAG,CAAG;AAAA,QAC7B,IAAA,cAAA,EAAE,QAAQ,KAAO,OAAO,MAAI,CAAG;AAAA,QAC/B,IAAA,cAAA,EAAE,QAAQ,KAAO,OAAO,MAAI,CAAG;AAAA,QAC/B,IAAA,cAAA,EAAE,QAAQ,KAAO,OAAO,MAAI,CAAG;AAAA,QAC/B,IAAA,cAAA,EAAE,QAAQ,KAAQ,OAAO,OAAO,CAAA;AAAA,MAChC;AAAA,MACD,gBAAgB;AAAA,0BACf,EAAE,MAAM,QAAQ;AAAA,0BAChB,EAAE,MAAM,OAAM;AAAA,MACf;AAAA;EAED;AAAA,EACD,UAAU;AAAA,IACT,cAAW;AACV,UAAI,KAAK,gBAAgB,KAAK,eAAe,GAAG;AAC/C,eAAO,WAAW,KAAK,YAAY,EAAE,QAAQ,CAAC;AAAA,MAC/C;AACA,aAAO,KAAK,SAAS,KAAK,eAAe,EAAE;AAAA,IAC3C;AAAA,IACD,aAAU;AACT,UAAI,KAAK,gBAAgB,KAAK,eAAe,GAAG;AAC/C,eAAO,KAAK,MAAM,WAAW,KAAK,YAAY,IAAI,GAAG;AAAA,MACtD;AACA,aAAO,KAAK,SAAS,KAAK,eAAe,EAAE;AAAA,IAC5C;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,cAAc,QAAK,MAAA;AAClB,WAAK,kBAAkB;AACvB,WAAK,eAAe;AAAA,IACpB;AAAA,IACD,cAAc,QAAK,MAAA;AAClB,WAAK,kBAAkB;AAAA,IACvB;AAAA,IACD,kBAAe;AACd,YAAM,UAAU,KAAK,eAAe,KAAK,eAAe;AACxDC,0BAAI,UAAU,IAAA,cAAA;AAAA,QACb,OAAO;AAAA,QACP,SAAS,OAAO,QAAQ,IAAI,OAAO,KAAK,WAAW,MAAM,KAAK,UAAU;AAAA,QACxE,SAAS,CAAC,QAAG;AACZ,cAAI,IAAI,SAAS;AAChB,iBAAK,gBAAe;AAAA,UACrB;AAAA,QACD;AAAA,MACA,CAAA,CAAA;AAAA,IACD;AAAA,IACD,kBAAe;AACdA,oBAAAA,MAAI,YAAY,EAAE,OAAO,SAAU,CAAA;AACnC,iBAAW,MAAA;AACVA,sBAAG,MAAC,YAAW;AACfA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,WAAW;AAChD,aAAK,kBAAkB,KAAK;AAC5B,mBAAW,MAAA;AAAQA,wBAAG,MAAC,aAAY;AAAA,QAAG,GAAG,IAAI;AAAA,MAC7C,GAAE,GAAI;AAAA,IACR;AAAA,EACD;CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxJA,GAAG,WAAW,eAAe;"}